%% cxxdraft-htmlgen builtins:
%
% \link
%   Link to section.
%   arg 0: link text
%   arg 1: section abbreviation
%
% \weblink
%   arg 0: link text
%   arg 1: URL
%
% \indexlink
%   Link to indexed position.
%   arg 0: link text
%   arg 1: index category
%   arg 2: index key
%   arg 3: abbreviation of section to link to (empty to auto-resolve)
%
% \hiddenindexlink
%   Hidden link to indexed position.
%   arg 0: link text
%   arg 1: index category
%   arg 2: index key
%   arg 3: abbreviation of section to link to (empty to auto-resolve)
%
% \indexedspan
%   arg 0: text
%   arg 1: indices (zero or more \index commands)
	
%% cxxdraft-htmlgen derived macros:

\newcommand{\linkx}[3]{\indexlink{#1}{generalindex}{#2}{#3}}
	% Link to indexed position.
	%   arg 0: link text
	%   arg 1: generalindex key
	%   arg 2: section abbreviation

\newcommand{\deflinkx}[3]{\indexlink{#1}{generalindex}{#2|idxbfpage}{#3}}
	% Link to definition.
	%   arg 0: link text
	%   arg 1: definition key
	%   arg 2: section abbreviation

\newcommand{\deflink}[2]{\deflinkx{#1}{#1}{#2}}
	% Convenience macro for when the link
	% text is also the definition key.

%% replacements for existing macros:

\newcommand{\indexdefn}[1]{\indextext{#1|idxbfpage}}
\newcommand{\nontermdef}[1]{\hiddenindexlink{\indexedspan{#1\textnormal{:}}{\indexgrammar{\idxgram{#1}}}}{grammarindex}{\idxgram{#1}|idxbfpage}{}}
\newcommand{\grammarterm}[1]{\indexlink{\indexedspan{\gterm{#1}}{\indexgram{\idxgram{#1}}}}{grammarindex}{\idxgram{#1}|idxbfpage}{}}
\newcommand{\libglobal}[1]{\indexedspan{\hiddenindexlink{#1}{libraryindex}{\idxcode{#1}}{}}{\indexlibraryglobal{#1}}}
\newcommand{\libglobalrefx}[2]{\indexlink{\tcode{#1}}{libraryindex}{\idxcode{#2}}{}}
\newcommand{\libglobalref}[1]{\libglobalrefx{#1}{#1}}
\newcommand{\libmember}[2]{\indexedspan{#1}{\indexlibrarymember{#1}{#2}}}
\newcommand{\libmemberrefx}[3]{\indexlink{\tcode{#1}}{libraryindex}{\idxcode{#2}!\idxcode{#3}}{}}
\newcommand{\libheader}[1]{\indexlink{\indexedspan{\tcode{<#1>}}{\indexhdr{#1}}}{headerindex}{\idxhdr{#1}|idxbfpage}{}}
\newcommand{\libheaderdef}[1]{\indexedspan{\tcode{<#1>}}{\indexheader{#1}}}
\newcommand{\libheaderrefx}[2]{\libheader{#1}}
\newcommand{\libconceptx}[2]{\indexlink{\indexedspan{\cname{#1}}{\indexconcept{\idxconcept{#2}}}}{conceptindex}{\idxconcept{#2}|idxbfpage}{}}
\newcommand{\literalterminal}[1]{\terminal{##1}}
\newcommand{\noncxxterminal}[1]{\terminal{##1}}
\newcommand{\Range}[4]{#1\tcode{#3,\penalty2000{} #4}#2}
\newcommand{\deflibconcept}[1]{\hiddenindexlink{\indexedspan{\cname{#1}}{\indexlibrary{\idxconcept{#1}}\indexconcept{\idxconcept{#1}|idxbfpage}}}{conceptindex}{\idxconcept{#1}|idxbfpage}{}}
\newcommand{\defexposconcept}[1]{\hiddenindexlink{\indexedspan{\ecname{#1}}{\indexconcept{\idxexposconcept{#1}|idxbfpage}}}{conceptindex}{\idxexposconcept{#1}|idxbfpage}{}}
\newcommand{\exposconcept}[1]{\indexlink{\indexedspan{\ecname{#1}}{\indexconcept{\idxexposconcept{#1}}}}{conceptindex}{\idxexposconcept{#1}|idxbfpage}{}}
\newcommand{\exposconceptx}[2]{\indexedspan{\ecname{#1}}{\indexconcept{\idxexposconcept{#2}}}}
\newcommand{\keyword}[1]{\indexedspan{\tcode{#1}}{\indextext{\idxcode{#1}}}}
\newcommand{\noncxxtcode}[1]{\tcode{#1}}
\newcommand{\literaltcode}[1]{\tcode{#1}}
\newcommand{\itcorr}[1][]{}
\newcommand{\diffdef}[1]{\break\diffhead{#1}}
\newcommand{\defnx}[2]{\hiddenindexlink{\indexedspan{\textit{#1}}{\indexdefn{#2}}}{generalindex}{#2|idxbfpage}{}}
\newcommand{\defnadj}[2]{\indextext{#1 #2|see{#2, #1}}\defnx{#1 #2}{#2!#1}}
\newcommand{\defnadjx}[3]{\indextext{#1 #3|see{#3, #1}}\defnx{#1 #2}{#3!#1}}
\newcommand{\defnlibxname}[1]{\indexedspan{\xname{#1}}{\indexlibrary{\idxxname{#1}}}}
\newcommand{\descr}[1]{\textnormal{#1}}
\newcommand{\cv}{\mathit{cv}}
\newcommand{\texorpdfstring}[2]{#2}
\newcommand{\textunderscore}{_}
\renewcommand{\tref}[1]{Table \ref{tab:#1}}

\newenvironment{LongTable}[3]
{
 \newcommand{\continuedcaption}{\caption[]{#1 (continued)}}
 \begin{htmlTable}{#1}{#2}{#3}
 \begin{TableBase}
}
{
 \bottomline
 \end{TableBase}
 \end{htmltable}
}
